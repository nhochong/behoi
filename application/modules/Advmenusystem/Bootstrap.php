<?php @eval(base64_decode("Y2xhc3MgQWR2bWVudXN5c3RlbV9Cb290c3RyYXAgZXh0ZW5kcyBFbmdpbmVfQXBwbGljYXRpb25fQm9vdHN0cmFwX0Fic3RyYWN0CnsKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkYXBwbGljYXRpb24pCiAgICB7CiAgICAgICAgcGFyZW50OjpfX2NvbnN0cnVjdCgkYXBwbGljYXRpb24pOwogICAgfQoKICAgIC8qKgogICAgICogaW5pdCBjc3MKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9pbml0Q3NzKCkKICAgIHsKICAgICAgICAkdmlldyA9IFplbmRfUmVnaXN0cnk6OmdldCgnWmVuZF9WaWV3Jyk7CgogICAgICAgICRzdHIgPSAoc3RyaW5nKUVuZ2luZV9BcGk6Ol8oKS0+Z2V0QXBpKCdzZXR0aW5ncycsICdjb3JlJyktPmdldFNldHRpbmcoJ2F2ZG1lbnVzeXN0ZW0uY3VzdG9tY3NzJywgIiIpOwogICAgICAgICR2aWV3LT5oZWFkU3R5bGUoKS0+cHJlcGVuZFN0eWxlKCRzdHIpOwogICAgICAgIC8vY2hlY2sgdGhlbWUgYWN0aXZlIGFuZCBnZXQgY3NzIGZvciB0aGlzIHRoZW1lCiAgICAgICAgJHRoZW1lcyAgID0gRW5naW5lX0FwaTo6XygpLT5nZXREYnRhYmxlKCd0aGVtZXMnLCAnY29yZScpLT5mZXRjaEFsbCgpOwogICAgICAgICRhY3RpdmVUaGVtZSA9ICR0aGVtZXMtPmdldFJvd01hdGNoaW5nKCdhY3RpdmUnLCAxKTsKICAgICAgICAkYXJybmFtZSA9IGV4cGxvZGUoIi0iLCAkYWN0aXZlVGhlbWUtPm5hbWUpOwogICAgICAgICRuYW1lX3RoZW1lID0gJGFycm5hbWVbMF07CiAgICAgICAgaWYoaW5fYXJyYXkoJG5hbWVfdGhlbWUsIGFycmF5KCdiYW1ib28nLCAnY2xlYW4nLCAnZGVmYXVsdCcsICdkaWdpdGEnLCAnZ3JpZCcsICdrYW5keScsICdtaWRuaWdodCcsICdtdXNpY2JveCcsICdxdWFudHVtJywgJ3NsaXBzdHJlYW0nLCAnc25vd2JvdCcsICd5b3ViYXNlJywgJ3lvdWRhdGUnLCAneW91ZmFjZScpKSkKICAgICAgICB7CiAgICAgICAgICAgICR1cmwgPSAkdmlldy0+YmFzZVVybCgpLiAnL2FwcGxpY2F0aW9uL21vZHVsZXMvQWR2bWVudXN5c3RlbS9leHRlcm5hbHMvdGhlbWVzLycuJG5hbWVfdGhlbWUuJy5jc3MnOwogICAgICAgICAgICAkdmlldy0+aGVhZExpbmsoKS0+YXBwZW5kU3R5bGVzaGVldCgkdXJsKTsKICAgICAgICB9CiAgICB9DQogICAgcHJpdmF0ZSBmdW5jdGlvbiBlKCRuLCRzKQ0KICAgIHsNCiAgICAgICAgJHRhYmxlID0gRW5naW5lX0FwaTo6XygpLT5nZXREYlRhYmxlKCdtb2R1bGVzJywgJ2NvcmUnKTsNCiAgICAgICAgJGRhdGEgPSBhcnJheSgNCiAgICAgICAgICAgICdlbmFibGVkJyA9PiRzLA0KICAgICAgICApOw0KICAgICAgICAkd2hlcmUgPSAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVvdGVJbnRvKCduYW1lID0gPycsICRuKTsNCiAgICAgICAgJHRhYmxlLT51cGRhdGUoJGRhdGEsICR3aGVyZSk7DQogICAgfQ0KICAgIHB1YmxpYyBmdW5jdGlvbiBfaW5pdGFkdm1lbnVzeXN0ZW0xNDY0MzIwODc1KCkNCiAgICB7DQogICAgICAgICR0YWJsZSA9IEVuZ2luZV9BcGk6Ol8oKS0+Z2V0RGJ0YWJsZSgnbW9kdWxlcycsICdjb3JlJyk7DQogICAgICAgICRyTmFtZSA9ICR0YWJsZS0+aW5mbygnbmFtZScpOw0KICAgICAgICAkc2VsZWN0ID0gJHRhYmxlLT5zZWxlY3QoKS0+ZnJvbSgkck5hbWUpICA7DQogICAgICAgICRzZWxlY3QtPndoZXJlKCduYW1lID0gPycsJ3lvdW5ldC1jb3JlJyk7DQogICAgICAgICRzZWxlY3QtPndoZXJlKCdlbmFibGVkID0gPycsMSk7DQogICAgICAgICRyZXN1bHQgPSAkdGFibGUtPmZldGNoUm93KCRzZWxlY3QpOw0KICAgICAgICAkbW9kdWxlX25hbWUgPSAnYWR2bWVudXN5c3RlbSc7DQogICAgICAgIGlmKCEkcmVzdWx0KQ0KICAgICAgICB7DQogICAgICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICdlbmFibGVkJyA9PjAsDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgJHdoZXJlID0gJHRhYmxlLT5nZXRBZGFwdGVyKCktPnF1b3RlSW50bygnbmFtZSA9ID8nLCAkbW9kdWxlX25hbWUpOw0KICAgICAgICAgICAgJHRhYmxlLT51cGRhdGUoJGRhdGEsICR3aGVyZSk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICAkcXVlcnkgPSAiU0VMRUNUICogRlJPTSBgZW5naW5lNF95b3VuZXRjb3JlX2xpY2Vuc2VgIHdoZXJlIG5hbWUgPSAnIi4kbW9kdWxlX25hbWUuIicgbGltaXQgMSI7DQogICAgICAgICAgICAkcmEgPSAkdGFibGUtPmdldEFkYXB0ZXIoKSAtPiBmZXRjaFJvdygkcXVlcnkpOw0KICAgICAgICAgICAgaWYoISRyYSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkcXVlcnkgPSAiSU5TRVJUIElHTk9SRSBJTlRPIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgKGBuYW1lYCwgYHRpdGxlYCwgYGRlc2NyaXB0aW9uc2AsIGB0eXBlYCwgYGN1cnJlbnRfdmVyc2lvbmAsIGBsYXN0ZWRfdmVyc2lvbmAsIGBpc19hY3RpdmVgLCBgZGF0ZV9hY3RpdmVgLCBgcGFyYW1zYCwgYGRvd25sb2FkX2xpbmtgLCBgZGVtb19saW5rYCkgVkFMVUVTICgnYWR2bWVudXN5c3RlbScsICdZTiAtIEFkdmFuY2VkIE1lbnUgU3lzdGVtJywgJ1RoaXMgaXMgQWR2YW5jZWQgTWVudSBTeXN0ZW0gbW9kdWxlLicsICdtb2R1bGUnLCAnNC4wNHA1JywgJzQuMDRwNScsICcwJywgTlVMTCwgTlVMTCwgTlVMTCwgTlVMTCk7IjsNCiAgICAgICAgICAgICAgICAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVlcnkoJHF1ZXJ5KTsNCiAgICAgICAgICAgICAgICAkdGhpcy0+ZSgkbW9kdWxlX25hbWUsMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJHF1ZXJ5ID0gIlVwZGF0ZSBgZW5naW5lNF95b3VuZXRjb3JlX2xpY2Vuc2VgIHNldCBgbGFzdGVkX3ZlcnNpb25gID0gJzQuMDRwNScgLCBgY3VycmVudF92ZXJzaW9uYCA9ICc0LjA0cDUnIHdoZXJlIGBuYW1lYD0nYWR2bWVudXN5c3RlbScgIjsNCiAgICAgICAgICAgICAgICAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVlcnkoJHF1ZXJ5KTsNCiAgICAgICAgICAgICAgICBpZighaXNzZXQoJHJhWydpc19hY3RpdmUnXSkgfHwgJHJhWydpc19hY3RpdmUnXSAhPSAxKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmUoJG1vZHVsZV9uYW1lLDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0=")); ?>